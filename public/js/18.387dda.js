(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+Awk":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),s=n.n(i),u=n("rywy"),a=function(){function t(e){o()(this,t),this.uri=e}return s()(t,[{key:"list",value:function(t){return Object(u.a)({url:"/"+this.uri,method:"get",params:t})}},{key:"get",value:function(t){return Object(u.a)({url:"/"+this.uri+"/"+t,method:"get"})}},{key:"store",value:function(t){return Object(u.a)({url:"/"+this.uri,method:"post",data:t})}},{key:"update",value:function(t,e){return Object(u.a)({url:"/"+this.uri+"/"+t,method:"put",data:e})}},{key:"destroy",value:function(t){return Object(u.a)({url:"/"+this.uri+"/"+t,method:"delete"})}}]),t}()},"44CP":function(t,e,n){"use strict";n.r(e);var r={name:"PagePermission",components:{SwitchRoles:n("uBY5").a},methods:{handleRolesChange:function(){this.$router.push({path:"/permission/index?"+ +new Date})}}},o=n("KHd+"),i=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[e("switch-roles",{on:{change:this.handleRolesChange}})],1)}),[],!1,null,null,null);e.default=i.exports},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},B5cj:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),s=n.n(i),u=n("7W2i"),a=n.n(u),c=n("a1gu"),l=n.n(c),f=n("Nsbk"),p=n.n(f),h=n("rywy");function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var v=function(t){a()(n,t);var e=d(n);function n(){return o()(this,n),e.call(this,"roles")}return s()(n,[{key:"permissions",value:function(t){return Object(h.a)({url:"/"+this.uri+"/"+t+"/permissions",method:"get"})}}]),n}(n("+Awk").a)},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},SksO:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},a1gu:function(t,e,n){var r=n("cDf5"),o=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},uBY5:function(t,e,n){"use strict";var r=n("o0o1"),o=n.n(r),i=n("yXPU"),s=n.n(i),u=new(n("B5cj").a),a={data:function(){return{avaiableRoles:[],loading:!1,list:[]}},computed:{roles:function(){return this.$store.getters.roles},switchRoles:{get:function(){return this.roles[0]},set:function(t){var e=this,n=this.list.find((function(e){return e.name===t}));this.$store.dispatch("user/changeRoles",n).then((function(){e.$emit("change")}))}}},created:function(){this.getRoles()},methods:{getRoles:function(){var t=this;return s()(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,u.list({});case 3:n=e.sent,r=n.data,t.list=r,t.list.forEach((function(e,n){e.index=n+1,e.description=t.$t("roles.description."+e.name)})),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()}}},c=n("KHd+"),l=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n    "+t._s(t.$t("permission.roles"))+": "+t._s(t.roles)+"\n  ")]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n    "+t._s(t.$t("permission.switchRoles"))+":\n  ")]),t._v(" "),n("div",[n("el-radio-group",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],model:{value:t.switchRoles,callback:function(e){t.switchRoles=e},expression:"switchRoles"}},[n("el-radio-button",{attrs:{label:"admin"}}),t._v(" "),n("el-radio-button",{attrs:{label:"manager"}}),t._v(" "),n("el-radio-button",{attrs:{label:"editor"}}),t._v(" "),n("el-radio-button",{attrs:{label:"user"}}),t._v(" "),n("el-radio-button",{attrs:{label:"visitor"}})],1)],1)])}),[],!1,null,null,null);e.a=l.exports}}]);