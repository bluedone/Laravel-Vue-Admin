(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+Awk":function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s("lwsE"),r=s.n(n),i=s("W8MJ"),a=s.n(i),o=s("rywy"),l=function(){function e(t){r()(this,e),this.uri=t}return a()(e,[{key:"list",value:function(e){return Object(o.a)({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(o.a)({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(o.a)({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(o.a)({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(o.a)({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"0jdv":function(e,t,s){var n=s("HCPT");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(n,r);n.locals&&(e.exports=n.locals)},"7W2i":function(e,t,s){var n=s("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},"8Ixb":function(e,t,s){"use strict";s.r(t);var n=s("GczY"),r=s("g6NE"),i={inserted:function(e,t,s){var n=t.value,i=r.a.getters&&r.a.getters.roles;if(!(n&&n instanceof Array&&n.length>0))throw new Error("Roles are required! Example: v-role=\"['admin','editor']\"");var a=n;i.some((function(e){return a.includes(e)}))||e.parentNode&&e.parentNode.removeChild(e)}},a=function(e){e.directive("role",i)};window.Vue&&(window.role=i,Vue.use(a)),i.install=a;var o=i,l=s("OuqF");var c={name:"DirectivePermission",components:{SwitchRoles:s("uBY5").a},directives:{permission:n.a,role:o},data:function(){return{key:1}},methods:{checkPermission:l.a,checkRole:function(e){if(e&&e instanceof Array&&e.length>0){var t=r.a.getters&&r.a.getters.roles,s=e;return t.some((function(e){return s.includes(e)}))}return console.error("Need roles! Like v-role=\"['admin','editor']\""),!1},handleRolesChange:function(){this.key++}}},u=(s("DLyB"),s("KHd+")),v=Object(u.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"description"},[e._v("\n    Laravue provides two directives "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("\n      v-role\n    ")]),e._v(" and "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("\n      v-permission\n    ")]),e._v(". Please see the belw example here for details\n  ")],1),e._v(" "),s("switch-roles",{on:{change:e.handleRolesChange}}),e._v(" "),s("div",{key:e.key,staticStyle:{"margin-top":"30px"}},[s("div",[s("span",{directives:[{name:"role",rawName:"v-role",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v("\n        Only\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" can see this\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"role",rawName:"v-role",value:["admin"],expression:"['admin']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-role=\"['admin']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"role",rawName:"v-role",value:["manager"],expression:"['manager']"}],staticClass:"permission-alert"},[e._v("\n        Only\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("manager")]),e._v(" can see this\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"role",rawName:"v-role",value:["manager"],expression:"['manager']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-role=\"['manager']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"role",rawName:"v-role",value:["editor"],expression:"['editor']"}],staticClass:"permission-alert"},[e._v("\n        Only\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v(" can see this\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"role",rawName:"v-role",value:["editor"],expression:"['editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-role=\"['editor']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"role",rawName:"v-role",value:["user"],expression:"['user']"}],staticClass:"permission-alert"},[e._v("\n        Only\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("user")]),e._v(" can see this\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"role",rawName:"v-role",value:["user"],expression:"['user']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-role=\"['user']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"role",rawName:"v-role",value:["visitor"],expression:"['visitor']"}],staticClass:"permission-alert"},[e._v("\n        Only\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("visitor")]),e._v(" can see this\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"role",rawName:"v-role",value:["visitor"],expression:"['visitor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-role=\"['visitor']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"role",rawName:"v-role",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-alert"},[e._v("\n        Both\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" and\n        "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v(" can see this\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"role",rawName:"v-role",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-role=\"['admin','editor']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["manage user"],expression:"['manage user']"}],staticClass:"permission-alert"},[e._v("\n        You can see this if you have "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("manage user")]),e._v(" permission\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["manage user"],expression:"['manage user']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-permission=\"['manage user']\"\n      ")])],1),e._v(" "),s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["manage user"],expression:"['manage user']"},{name:"role",rawName:"v-role",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v("\n        You can see this if you are "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" "),s("strong",[e._v("AND")]),e._v(" you have "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("manage user")]),e._v(" permission\n      ")],1),e._v(" "),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["manage user"],expression:"['manage user']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n        v-permission=\"['manage user']\" v-role=\"['admin']\"\n      ")])],1)]),e._v(" "),s("div",{key:"checkPermission"+e.key,staticStyle:{"margin-top":"60px"}},[s("code",[e._v("\n      "+e._s(e.$t("permission.tips"))+"\n      "),s("br"),e._v(" e.g.\n    ")]),e._v(" "),s("el-tabs",{staticStyle:{width:"550px"},attrs:{type:"border-card"}},[e.checkRole(["admin"])?s("el-tab-pane",{attrs:{label:"Admin"}},[e._v("\n        Admin can see this\n        "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n          v-if=\"checkRole(['admin'])\"\n        ")])],1):e._e(),e._v(" "),e.checkRole(["manager"])?s("el-tab-pane",{attrs:{label:"Manager"}},[e._v("\n        Manager can see this\n        "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n          v-if=\"checkRole(['manager'])\"\n        ")])],1):e._e(),e._v(" "),e.checkRole(["editor"])?s("el-tab-pane",{attrs:{label:"Editor"}},[e._v("\n        Editor can see this\n        "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n          v-if=\"checkRole(['editor'])\"\n        ")])],1):e._e(),e._v(" "),e.checkRole(["user"])?s("el-tab-pane",{attrs:{label:"User"}},[e._v("\n        User can see this\n        "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n          v-if=\"checkRole(['user'])\"\n        ")])],1):e._e(),e._v(" "),e.checkRole(["visitor"])?s("el-tab-pane",{attrs:{label:"Visitor"}},[e._v("\n        Visitor can see this\n        "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n          v-if=\"checkRole(['visitor'])\"\n        ")])],1):e._e(),e._v(" "),e.checkRole(["admin","editor"])?s("el-tab-pane",{attrs:{label:"Admin-OR-Editor"}},[e._v("\n        Both admin or editor can see this\n        "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("\n          v-if=\"checkRole(['admin','editor'])\"\n        ")])],1):e._e()],1)],1)],1)}),[],!1,null,"4763fdef",null);t.default=v.exports},B5cj:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var n=s("lwsE"),r=s.n(n),i=s("W8MJ"),a=s.n(i),o=s("7W2i"),l=s.n(o),c=s("a1gu"),u=s.n(c),v=s("Nsbk"),m=s.n(v),p=s("rywy");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=m()(e);if(t){var r=m()(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return u()(this,s)}}var f=function(e){l()(s,e);var t=d(s);function s(){return r()(this,s),t.call(this,"roles")}return a()(s,[{key:"permissions",value:function(e){return Object(p.a)({url:"/"+this.uri+"/"+e+"/permissions",method:"get"})}}]),s}(s("+Awk").a)},DLyB:function(e,t,s){"use strict";var n=s("0jdv");s.n(n).a},GczY:function(e,t,s){"use strict";var n=s("g6NE"),r={inserted:function(e,t,s){var r=t.value,i=n.a.getters&&n.a.getters.permissions;if(!(r&&r instanceof Array&&r.length>0))throw new Error("Permissions are required! Example: v-permission=\"['manage user','manage permission']\"");var a=r;i.some((function(e){return a.includes(e)}))||e.parentNode&&e.parentNode.removeChild(e)}},i=function(e){e.directive("permission",r)};window.Vue&&(window.permission=r,Vue.use(i)),r.install=i;t.a=r},HCPT:function(e,t,s){(t=s("JPst")(!1)).push([e.i,".app-container[data-v-4763fdef] .permission-alert {\n  width: 600px;\n  margin-top: 15px;\n  background-color: #f0f9eb;\n  color: #67c23a;\n  padding: 8px 16px;\n  border-radius: 4px;\n  display: inline-block;\n}\n.app-container[data-v-4763fdef] .permission-sourceCode {\n  margin-left: 15px;\n}\n.app-container[data-v-4763fdef] .permission-tag {\n  background-color: #ecf5ff;\n}\n.app-container .description[data-v-4763fdef] {\n  margin-bottom: 15px;\n}\n",""]),e.exports=t},Nsbk:function(e,t){function s(t){return e.exports=s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(t)}e.exports=s},OuqF:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("g6NE");function r(e){if(e&&e instanceof Array&&e.length>0){var t=n.a.getters&&n.a.getters.permissions,s=e;return t.some((function(e){return s.includes(e)}))}return console.error("Need permissions! Like v-permission=\"['manage permission','edit article']\""),!1}},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},SksO:function(e,t){function s(t,n){return e.exports=s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(t,n)}e.exports=s},W8MJ:function(e,t){function s(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}},a1gu:function(e,t,s){var n=s("cDf5"),r=s("PJYZ");e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?r(e):t}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},uBY5:function(e,t,s){"use strict";var n=s("o0o1"),r=s.n(n),i=s("yXPU"),a=s.n(i),o=new(s("B5cj").a),l={data:function(){return{avaiableRoles:[],loading:!1,list:[]}},computed:{roles:function(){return this.$store.getters.roles},switchRoles:{get:function(){return this.roles[0]},set:function(e){var t=this,s=this.list.find((function(t){return t.name===e}));this.$store.dispatch("user/changeRoles",s).then((function(){t.$emit("change")}))}}},created:function(){this.getRoles()},methods:{getRoles:function(){var e=this;return a()(r.a.mark((function t(){var s,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,o.list({});case 3:s=t.sent,n=s.data,e.list=n,e.list.forEach((function(t,s){t.index=s+1,t.description=e.$t("roles.description."+t.name)})),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},c=s("KHd+"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{"margin-bottom":"15px"}},[e._v("\n    "+e._s(e.$t("permission.roles"))+": "+e._s(e.roles)+"\n  ")]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"15px"}},[e._v("\n    "+e._s(e.$t("permission.switchRoles"))+":\n  ")]),e._v(" "),s("div",[s("el-radio-group",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],model:{value:e.switchRoles,callback:function(t){e.switchRoles=t},expression:"switchRoles"}},[s("el-radio-button",{attrs:{label:"admin"}}),e._v(" "),s("el-radio-button",{attrs:{label:"manager"}}),e._v(" "),s("el-radio-button",{attrs:{label:"editor"}}),e._v(" "),s("el-radio-button",{attrs:{label:"user"}}),e._v(" "),s("el-radio-button",{attrs:{label:"visitor"}})],1)],1)])}),[],!1,null,null,null);t.a=u.exports}}]);